<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Toya</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="css/style.css" rel="stylesheet" type="text/css"/>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.10.1/sweetalert2.css" integrity="sha512-pxzljms2XK/DmQU3S58LhGyvttZBPNSw1/zoVZiYmYBvjDQW+0K7/DVzWHNz/LeiDs+uiPMtfQpgDeETwqL+1Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.10.1/sweetalert2.min.js" integrity="sha512-lhtxV2wFeGInLAF3yN3WN/2wobmk+HuoWjyr3xgft42IY0xv4YN7Ao8VnYOwEjJH1F7I+fadwFQkVcZ6ege6kA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <header>
        <div class="inicio_header">
            <img class="logo" src="img/encuadre2.png">
            <div class="box_buscar">
                <input type="text" placeholder="Buscar..." class="texfile_buscar">
                <button class="boton_busqueda">
                    <i>Buscar</i>
                </button>
            </div>
        </div>
        <div class="box_navegacion">
            <nav>
                <a href="inicioL.php">Formularios</a>
                <a href="subirProductos.html">Subir Productos</a>
            </nav>
        </div>
    </header>
    <main>
        <div class="box_navegacion2">
            <nav>
                <a>Subir Producto</a>
            </nav>
        </div>
        <br>
        <form class="box_sugerencias" action="procesar_producto.php" method="post" enctype="multipart/form-data">
            <fieldset>
                <fieldset>
                <label for="titulo">Título:</label>
                <input type="text" name="titulo" required><br>

                <label for="imagen">Imagen:</label>
                <input type="file" name="imagen" accept="image/*" required><br>

                <label for="precio">Precio:</label>
                <input type="text" name="precio" required><br>

                <label for="descripcion">Descripción:</label>
                <textarea name="descripcion" required></textarea><br>

                
                </fieldset>
            </fieldset>
            <input type="submit" value="Subir Producto">
            
        </form>
        
        
        <br>
    </main>
    
    
    <footer class="footer">
        <div class="box_contacto">
            <h3>Contáctanos</h3>
            <p>Whatsapp: +54 221 614-7319</p>
            <p>Instagram: @la.toya.dulces</p>
            <p>GMAIL: toyasoosna03@gmail.com</p>
        </div>
    
        <div class="box_ubicacion">
            <h3>Ubicanos</h3>
            <p><a href="https://www.google.com/maps/place/Parque+Saavedra/@-34.550819,-58.4798156,17z/data=!3m1!4b1!4m6!3m5!1s0x95bcb696ab5cb4ed:0x887c745720a0e9b6!8m2!3d-34.550819!4d-58.4798156!16s%2Fg%2F12215d9x?entry=ttu">Plata, Argentina</a> </p>
        </div>
    </footer>
    
    <script>
document.addEventListener('DOMContentLoaded', function () {
    // Capturar el evento de envío del formulario
    document.querySelector('.box_sugerencias').addEventListener('submit', function (event) {
        event.preventDefault(); // Evitar la recarga de la página al enviar el formulario

        // Realizar la solicitud POST utilizando Fetch API
        fetch('procesar_producto.php', {
            method: 'POST',
            body: new FormData(this),
        })
        .then(response => response.json())
        .then(data => {
            // Mostrar una alerta según la respuesta del servidor
            if (data.status === 'success') {
                swal.fire('¡Éxito!', data.message, 'success');
            } else {
                swal.fire('Error', data.message, 'error');
            }
        })
        .catch(error => {
            console.error('Error al procesar la solicitud:', error);
        });
    });
});
</script>
    
</body>
</html>
